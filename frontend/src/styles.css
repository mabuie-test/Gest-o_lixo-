:root {
  --header-h: 64px;
  --sidebar-w: 360px;
  --bg-1: #f1f7ee;
  --card-bg: rgba(255,255,255,0.92);
  --accent: #2a9d8f;
}

/* base */
html,body,#root { height:100%; margin:0; font-family:Inter,system-ui,Arial; background:linear-gradient(180deg,#eef7f0,#f6fbf7); }

/* header band + header kept as before */
.header-band { height:6px; background:linear-gradient(90deg,var(--accent),#2ec4b6,#86efac); width:100%; }
.app-header { height:var(--header-h); display:flex; align-items:center; justify-content:space-between; padding:0 16px; box-sizing:border-box; background:rgba(255,255,255,0.85); border-bottom:1px solid rgba(0,0,0,0.03); }
.brand { display:flex; align-items:center; gap:12px; }
.logo { width:42px; height:42px; border-radius:8px; background:linear-gradient(135deg,#2a9d8f,#2ec4b6); color:#fff; display:flex; align-items:center; justify-content:center; font-weight:700; }
.header-actions { display:flex; align-items:center; gap:8px; }

/* layout: use flex so map flexes correctly */
.app-layout {
  display:flex;
  height: calc(100vh - var(--header-h) - 6px); /* subtract header and band */
  width:100%;
}

/* map area */
.main-map { flex:1; display:flex; flex-direction:column; padding:12px; box-sizing:border-box; overflow:hidden; }
.map-wrapper { height:100%; width:100%; border-radius:12px; padding:0; box-sizing:border-box; }

/* sidebar */
.sidebar { width:var(--sidebar-w); min-width:280px; max-width:420px; padding:12px; box-sizing:border-box; overflow-y:auto; border-left:1px solid rgba(0,0,0,0.03); transition: width 220ms ease, transform 220ms ease; }
.sidebar.collapsed { width:0; transform: translateX(8px); opacity:0; pointer-events:none; }

/* responsive: stack on small screens */
@media (max-width: 900px) {
  .app-layout { flex-direction:column; height: calc(100vh - var(--header-h) - 6px); }
  .sidebar { width:100%; max-height: 44vh; min-width:0; border-left:none; border-top:1px solid rgba(0,0,0,0.03); }
  .main-map { padding:8px; }
}

/* leaflet container */
.leaflet-container { height: 100% !important; width: 100% !important; border-radius: 10px; }

/* card */
.card { background: var(--card-bg); border-radius:10px; padding:8px; box-shadow: 0 6px 18px rgba(10,20,40,0.06); }

/* spinner overlay while tiles load */
.map-spinner {
  position:absolute;
  z-index: 999;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:12px 16px;
  background: rgba(255,255,255,0.9);
  border-radius:10px;
  box-shadow: 0 6px 18px rgba(10,20,40,0.08);
}
.spinner {
  width:36px;
  height:36px;
  border-radius:50%;
  border:4px solid rgba(0,0,0,0.08);
  border-top-color: var(--accent);
  animation: spin 1s linear infinite;
}
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* small utilities */
.btn { display:inline-flex; gap:8px; align-items:center; padding:8px 10px; border-radius:10px; border:none; cursor:pointer; background:var(--accent); color:#fff; font-weight:600; }
.btn.secondary { background:#fff; color:#374151; border:1px solid rgba(0,0,0,0.06); }
.btn.warn { background: #ef8354; color:#fff; }

/* lists */
.device-list { list-style:none; padding:0; margin:0; }
.device-list li { display:flex; justify-content:space-between; align-items:center; padding:8px 6px; border-radius:8px; }
.device-list li + li { margin-top:8px; }
